{% extends 'base.html' %}
{% block title %}产品详情 - {{ product.name }} - BetterLaser ERP{% endblock %}

{% block breadcrumb %}
<span class="mx-2 text-gray-400">/</span>
<span class="text-gray-500">基础设置</span>
<span class="mx-2 text-gray-400">/</span>
<a href="{% url 'products:product_list' %}" class="text-gray-500 hover:text-gray-700">产品管理</a>
<span class="mx-2 text-gray-400">/</span>
<span class="text-gray-900 font-semibold">{{ product.name }}</span>
{% endblock %}

{% block content %}
<div class="max-w-7xl mx-auto">
<div class="flex justify-between items-center mb-6">
<div><h3 class="text-2xl font-bold text-gray-900">{{ product.name }}</h3><p class="text-sm text-gray-600 mt-1"><span class="px-2 py-1 text-xs font-semibold rounded {% if product.status == 'active' %}bg-green-100 text-green-800{% elif product.status == 'inactive' %}bg-gray-100 text-gray-800{% endif %}">{{ product.get_status_display }}</span> <span class="ml-2">{{ product.code }}</span></p></div>
<div class="flex space-x-2">
<a class="btn btn-primary" href="{% url 'products:product_update' product.pk %}"><svg x-data="heroicon('pencil')" class="mr-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak><span x-html="svg"></span></svg>编辑</a>
<a class="btn btn-primary" href="{% url 'products:product_delete' product.pk %}"><svg x-data="heroicon('trash')" class="mr-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak><span x-html="svg"></span></svg>删除</a>
</div>
</div>
<div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
<div class="lg:col-span-2 space-y-6">
<div class="bg-white rounded-lg shadow p-6"><h4 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">基本信息</h4><dl class="grid grid-cols-2 gap-4"><div><dt class="text-sm font-medium text-gray-500">产品编码</dt><dd class="mt-1 text-sm text-gray-900">{{ product.code }}</dd></div><div><dt class="text-sm font-medium text-gray-500">产品名称</dt><dd class="mt-1 text-sm text-gray-900">{{ product.name }}</dd></div><div><dt class="text-sm font-medium text-gray-500">产品类型</dt><dd class="mt-1 text-sm text-gray-900">{{ product.get_product_type_display }}</dd></div><div><dt class="text-sm font-medium text-gray-500">状态</dt><dd class="mt-1 text-sm text-gray-900">{{ product.get_status_display }}</dd></div>{% if product.category %}<div><dt class="text-sm font-medium text-gray-500">产品分类</dt><dd class="mt-1 text-sm text-gray-900">{{ product.category.name }}</dd></div>{% endif %}{% if product.brand %}<div><dt class="text-sm font-medium text-gray-500">品牌</dt><dd class="mt-1 text-sm text-gray-900">{{ product.brand.name }}</dd></div>{% endif %}{% if product.unit %}<div><dt class="text-sm font-medium text-gray-500">计量单位</dt><dd class="mt-1 text-sm text-gray-900">{{ product.unit.name }}</dd></div>{% endif %}</dl>{% if product.description %}<div class="mt-4"><dt class="text-sm font-medium text-gray-500 mb-2">产品描述</dt><dd class="text-sm text-gray-900">{{ product.description }}</dd></div>{% endif %}</div>
<div class="bg-white rounded-lg shadow p-6"><h4 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">价格信息</h4><dl class="grid grid-cols-2 gap-4"><div><dt class="text-sm font-medium text-gray-500">成本价</dt><dd class="mt-1 text-sm font-semibold text-gray-900">¥{{ product.cost_price }}</dd></div><div><dt class="text-sm font-medium text-gray-500">销售价</dt><dd class="mt-1 text-sm font-semibold text-theme-600">¥{{ product.selling_price }}</dd></div><div><dt class="text-sm font-medium text-gray-500">利润率</dt><dd class="mt-1 text-sm text-gray-900">{{ product.profit_margin|floatformat:2 }}%</dd></div></dl></div>
</div>
<div class="space-y-6">
<div class="bg-white rounded-lg shadow p-6"><h4 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">库存设置</h4><dl class="space-y-3"><div><dt class="text-sm font-medium text-gray-500">最小库存</dt><dd class="mt-1 text-sm text-gray-900">{{ product.min_stock }}</dd></div><div><dt class="text-sm font-medium text-gray-500">最大库存</dt><dd class="mt-1 text-sm text-gray-900">{{ product.max_stock }}</dd></div><div><dt class="text-sm font-medium text-gray-500">再订货点</dt><dd class="mt-1 text-sm text-gray-900">{{ product.reorder_point }}</dd></div></dl></div>
<div class="bg-white rounded-lg shadow p-6"><h4 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">系统信息</h4><dl class="space-y-3"><div><dt class="text-sm font-medium text-gray-500">创建时间</dt><dd class="mt-1 text-sm text-gray-900">{{ product.created_at|date:"Y-m-d H:i" }}</dd></div><div><dt class="text-sm font-medium text-gray-500">最后修改</dt><dd class="mt-1 text-sm text-gray-900">{{ product.updated_at|date:"Y-m-d H:i" }}</dd></div></dl></div>
</div>
</div>
</div>
{% endblock %}
