{% extends 'base.html' %}
{% block title %}转换为采购订单{% endblock %}

{% block breadcrumb %}
<span class="mx-2 text-gray-400">/</span>
<span class="text-gray-500">采购管理</span>
<span class="mx-2 text-gray-400">/</span>
<a href="{% url 'purchase:request_list' %}" class="text-gray-500 hover:text-gray-700">采购申请</a>
<span class="mx-2 text-gray-400">/</span>
<a href="{% url 'purchase:request_detail' request.pk %}" class="text-gray-500 hover:text-gray-700">{{ request.request_number }}</a>
<span class="mx-2 text-gray-400">/</span>
<span class="text-gray-900 font-semibold">转换为订单</span>
{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto space-y-6">
    <h3 class="text-lg font-semibold">将采购申请转换为采购订单</h3>
    <form method="post" class="bg-white rounded-lg shadow p-6 space-y-4">
        {% csrf_token %}
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">供应商 <span class="text-red-500">*</span></label>
            <select name="supplier" required class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                {% for supplier in suppliers %}
                <option value="{{ supplier.id }}" {% if supplier == preferred_supplier %}selected{% endif %}>{{ supplier.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">收货仓库</label>
            <select name="warehouse" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                {% for warehouse in warehouses %}
                <option value="{{ warehouse.id }}">{{ warehouse.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="flex space-x-3">
            <button type="submit" class="btn btn-primary">转换</button>
            <a href="{% url 'purchase:request_detail' request.pk %}" class="btn btn-outline">取消</a>
        </div>
    </form>
</div>
{% endblock %}