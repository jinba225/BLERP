{% extends 'base.html' %}

{% block title %}å›¾æ ‡æµ‹è¯•é¡µé¢ - BetterLaser ERP{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto p-6">
    <h1 class="text-2xl font-bold mb-6">ğŸ” Heroicons å›¾æ ‡æµ‹è¯•é¡µé¢</h1>

    <!-- è°ƒè¯•ä¿¡æ¯ -->
    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
        <h3 class="font-bold text-blue-700 mb-2">è°ƒè¯•ä¿¡æ¯</h3>
        <div id="debug-info" class="text-sm text-blue-600 space-y-1">
            <p>æ­£åœ¨æ£€æµ‹...</p>
        </div>
    </div>

    <!-- å›¾æ ‡æµ‹è¯•åŒºåŸŸ -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- æµ‹è¯•1ï¼šåŸºç¡€å›¾æ ‡ -->
        <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-bold text-gray-700 mb-2">æµ‹è¯•1: check å›¾æ ‡</h3>
            <div class="text-4xl text-theme-600">
                <svg x-data="heroicon('check')" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak>
                    <span x-html="svg"></span>
                </svg>
            </div>
            <p class="text-sm text-gray-500 mt-2">åº”è¯¥æ˜¾ç¤ºä¸€ä¸ªå‹¾é€‰æ ‡è®°</p>
        </div>

        <!-- æµ‹è¯•2ï¼šx-mark å›¾æ ‡ -->
        <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-bold text-gray-700 mb-2">æµ‹è¯•2: x-mark å›¾æ ‡</h3>
            <div class="text-4xl text-theme-600">
                <svg x-data="heroicon('x-mark')" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak>
                    <span x-html="svg"></span>
                </svg>
            </div>
            <p class="text-sm text-gray-500 mt-2">åº”è¯¥æ˜¾ç¤ºä¸€ä¸ª X æ ‡è®°</p>
        </div>

        <!-- æµ‹è¯•3ï¼šplus å›¾æ ‡ -->
        <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-bold text-gray-700 mb-2">æµ‹è¯•3: plus å›¾æ ‡</h3>
            <div class="text-4xl text-theme-600">
                <svg x-data="heroicon('plus')" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak>
                    <span x-html="svg"></span>
                </svg>
            </div>
            <p class="text-sm text-gray-500 mt-2">åº”è¯¥æ˜¾ç¤ºä¸€ä¸ªåŠ å·</p>
        </div>

        <!-- æµ‹è¯•4ï¼šeye å›¾æ ‡ -->
        <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-bold text-gray-700 mb-2">æµ‹è¯•4: eye å›¾æ ‡</h3>
            <div class="text-4xl text-theme-600">
                <svg x-data="heroicon('eye')" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak>
                    <span x-html="svg"></span>
                </svg>
            </div>
            <p class="text-sm text-gray-500 mt-2">åº”è¯¥æ˜¾ç¤ºä¸€åªçœ¼ç›</p>
        </div>

        <!-- æµ‹è¯•5ï¼šuser å›¾æ ‡ -->
        <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-bold text-gray-700 mb-2">æµ‹è¯•5: user å›¾æ ‡</h3>
            <div class="text-4xl text-theme-600">
                <svg x-data="heroicon('user')" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak>
                    <span x-html="svg"></span>
                </svg>
            </div>
            <p class="text-sm text-gray-500 mt-2">åº”è¯¥æ˜¾ç¤ºä¸€ä¸ªç”¨æˆ·å›¾æ ‡</p>
        </div>

        <!-- æµ‹è¯•6ï¼štrash å›¾æ ‡ -->
        <div class="bg-white rounded-lg shadow p-4">
            <h3 class="font-bold text-gray-700 mb-2">æµ‹è¯•6: trash å›¾æ ‡</h3>
            <div class="text-4xl text-red-600">
                <svg x-data="heroicon('trash')" class="w-12 h-12" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" x-cloak>
                    <span x-html="svg"></span>
                </svg>
            </div>
            <p class="text-sm text-gray-500 mt-2">åº”è¯¥æ˜¾ç¤ºä¸€ä¸ªåƒåœ¾æ¡¶</p>
        </div>
    </div>

    <!-- åŸå§‹æ•°æ®æµ‹è¯• -->
    <div class="mt-8 bg-white rounded-lg shadow p-6">
        <h3 class="font-bold text-gray-700 mb-4">åŸå§‹æ•°æ®æµ‹è¯•</h3>
        <div id="raw-data-test" class="space-y-2">
            <p>æ­£åœ¨æ£€æµ‹...</p>
        </div>
    </div>
</div>

<script>
document.addEventListener('alpine:init', function() {
    // ç­‰å¾… Alpine.js å®Œå…¨åˆå§‹åŒ–åå†æ‰§è¡Œæ£€æµ‹
    setTimeout(function() {
        const debugInfo = document.getElementById('debug-info');
        const rawDataTest = document.getElementById('raw-data-test');

        // æ£€æµ‹ window.HeroiconsPaths æ˜¯å¦å­˜åœ¨
        const hasHeroiconsPaths = typeof window.HeroiconsPaths !== 'undefined';
        const heroiconsKeys = hasHeroiconsPaths ? Object.keys(window.HeroiconsPaths).length : 0;

        debugInfo.innerHTML = `
            <p><strong>HeroiconsPaths:</strong> ${hasHeroiconsPaths ? 'âœ… å·²åŠ è½½' : 'âŒ æœªåŠ è½½'}</p>
            <p><strong>å›¾æ ‡æ•°é‡:</strong> ${heroiconsKeys}</p>
            <p><strong>Alpine.js:</strong> ${typeof Alpine !== 'undefined' ? 'âœ… å·²åŠ è½½' : 'âŒ æœªåŠ è½½'}</p>
        `;

        // æµ‹è¯•å‡ ä¸ªå›¾æ ‡çš„åŸå§‹æ•°æ®
        const testIcons = ['check', 'x-mark', 'plus', 'eye', 'user', 'trash'];
        let rawDataHTML = '';

        testIcons.forEach(iconName => {
            const iconData = hasHeroiconsPaths ? window.HeroiconsPaths[iconName] : null;
            const hasOutline = iconData && typeof iconData.outline !== 'undefined';
            const hasViewBox = iconData && typeof iconData.viewBox !== 'undefined';
            const outlinePreview = hasOutline ? (iconData.outline.substring(0, 50) + '...') : 'undefined';

            rawDataHTML += `
                <div class="border rounded p-3 ${hasOutline ? 'bg-green-50 border-green-200' : 'bg-red-50 border-red-200'}">
                    <p class="font-bold">${iconName}:</p>
                    <p class="text-sm">outline: ${hasOutline ? 'âœ… å­˜åœ¨' : 'âŒ undefined'}</p>
                    <p class="text-sm">viewBox: ${hasViewBox ? 'âœ… ' + iconData.viewBox : 'âŒ undefined'}</p>
                    <p class="text-xs text-gray-500 mt-1">${outlinePreview}</p>
                </div>
            `;
        });

        rawDataTest.innerHTML = rawDataHTML;

        // åœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†ä¿¡æ¯
        console.log('=== Heroicons è°ƒè¯•ä¿¡æ¯ ===');
        console.log('HeroiconsPaths:', window.HeroiconsPaths);
        console.log('æµ‹è¯•å›¾æ ‡æ•°æ®:', testIcons.map(name => ({
            name,
            data: window.HeroiconsPaths ? window.HeroiconsPaths[name] : null
        })));

    }, 500);
});
</script>
{% endblock %}
