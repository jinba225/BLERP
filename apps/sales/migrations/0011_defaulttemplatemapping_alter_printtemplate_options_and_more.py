# Generated by Django 4.2.7 on 2025-11-09 13:01

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):
    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ("sales", "0010_quoteitem_unit"),
    ]

    operations = [
        migrations.CreateModel(
            name="DefaultTemplateMapping",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True, primary_key=True, serialize=False, verbose_name="ID"
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True, verbose_name="åˆ›å»ºæ—¶é—´")),
                ("updated_at", models.DateTimeField(auto_now=True, verbose_name="æ›´æ–°æ—¶é—´")),
                ("is_deleted", models.BooleanField(default=False, verbose_name="æ˜¯å¦åˆ é™¤")),
                ("deleted_at", models.DateTimeField(blank=True, null=True, verbose_name="åˆ é™¤æ—¶é—´")),
                (
                    "document_type",
                    models.CharField(
                        choices=[
                            ("quote_domestic", "æŠ¥ä»·å•-å›½å†…"),
                            ("quote_overseas", "æŠ¥ä»·å•-æµ·å¤–"),
                            ("sales_order", "é”€å”®è®¢å•"),
                            ("delivery", "å‘è´§å•"),
                            ("sales_return", "é”€å”®é€€è´§"),
                            ("purchase_order", "é‡‡è´­è®¢å•"),
                            ("purchase_receipt", "é‡‡è´­å…¥åº“"),
                            ("purchase_return", "é‡‡è´­é€€è´§"),
                            ("stock_in", "å…¥åº“å•"),
                            ("stock_out", "å‡ºåº“å•"),
                            ("stock_transfer", "è°ƒæ‹¨å•"),
                            ("stock_check", "ç›˜ç‚¹å•"),
                            ("invoice", "å‘ç¥¨"),
                            ("payment", "ä»˜æ¬¾å•"),
                            ("receipt", "æ”¶æ¬¾å•"),
                        ],
                        db_index=True,
                        help_text="ä¸ºè¯¥å•æ®ç±»å‹è®¾ç½®é»˜è®¤æ‰“å°æ¨¡æ¿",
                        max_length=50,
                        unique=True,
                        verbose_name="å•æ®ç±»å‹",
                    ),
                ),
            ],
            options={
                "verbose_name": "é»˜è®¤æ¨¡æ¿é…ç½®",
                "verbose_name_plural": "é»˜è®¤æ¨¡æ¿é…ç½®",
                "db_table": "sales_default_template_mapping",
                "ordering": ["document_type"],
            },
        ),
        migrations.AlterModelOptions(
            name="printtemplate",
            options={
                "ordering": ["template_category", "name"],
                "verbose_name": "æ‰“å°æ¨¡æ¿",
                "verbose_name_plural": "æ‰“å°æ¨¡æ¿",
            },
        ),
        migrations.RemoveIndex(
            model_name="printtemplate",
            name="sales_print_templat_67c3a5_idx",
        ),
        migrations.RemoveIndex(
            model_name="printtemplate",
            name="sales_print_is_defa_9ba899_idx",
        ),
        migrations.RemoveField(
            model_name="printtemplate",
            name="is_default",
        ),
        migrations.RemoveField(
            model_name="printtemplate",
            name="template_type",
        ),
        migrations.AddField(
            model_name="printtemplate",
            name="suitable_for",
            field=models.JSONField(
                blank=True,
                default=list,
                help_text='JSONæ•°ç»„æ ¼å¼ï¼Œä¾‹å¦‚ï¼š["quote", "sales_order"]ã€‚ç”¨äºåœ¨æ‰“å°æ—¶ä¼˜å…ˆæ˜¾ç¤ºæ›´ç›¸å…³çš„æ¨¡æ¿',
                verbose_name="é€‚ç”¨å•æ®ç±»å‹",
            ),
        ),
        migrations.AddField(
            model_name="printtemplate",
            name="template_category",
            field=models.CharField(
                choices=[
                    ("sales", "ğŸ“Š é”€å”®ç±»"),
                    ("purchase", "ğŸ›’ é‡‡è´­ç±»"),
                    ("inventory", "ğŸ“¦ åº“å­˜ç±»"),
                    ("finance", "ğŸ’° è´¢åŠ¡ç±»"),
                    ("other", "ğŸ“‹ å…¶ä»–ç±»"),
                ],
                db_index=True,
                default="sales",
                help_text="æ¨¡æ¿æ‰€å±çš„å¤§ç±»ï¼ŒåŒç±»åˆ«çš„æ¨¡æ¿å¯ä»¥å…±äº«ä½¿ç”¨",
                max_length=20,
                verbose_name="æ¨¡æ¿ç±»åˆ«",
            ),
        ),
        migrations.AddIndex(
            model_name="printtemplate",
            index=models.Index(
                fields=["template_category", "is_active"], name="sales_print_templat_aec1a1_idx"
            ),
        ),
        migrations.AddField(
            model_name="defaulttemplatemapping",
            name="created_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_created",
                to=settings.AUTH_USER_MODEL,
                verbose_name="åˆ›å»ºäºº",
            ),
        ),
        migrations.AddField(
            model_name="defaulttemplatemapping",
            name="deleted_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_deleted",
                to=settings.AUTH_USER_MODEL,
                verbose_name="åˆ é™¤äºº",
            ),
        ),
        migrations.AddField(
            model_name="defaulttemplatemapping",
            name="template",
            field=models.ForeignKey(
                blank=True,
                help_text="è¯¥å•æ®ç±»å‹çš„é»˜è®¤æ¨¡æ¿ï¼Œæ‰“å°æ—¶è‡ªåŠ¨é€‰ä¸­",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="default_for_documents",
                to="sales.printtemplate",
                verbose_name="é»˜è®¤æ¨¡æ¿",
            ),
        ),
        migrations.AddField(
            model_name="defaulttemplatemapping",
            name="updated_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="%(class)s_updated",
                to=settings.AUTH_USER_MODEL,
                verbose_name="æ›´æ–°äºº",
            ),
        ),
    ]
