## 背景与目标
- 在“创建客户/供应商”时，支持一次性添加多个联系人并随主档一起保存。
- 已有联系人模型：客户 `CustomerContact`、供应商 `SupplierContact`，前台客户创建页已支持多联系人；供应商创建页目前仅支持单一联系信息。

## 现状评估
- 客户：
  - 模板 `templates/customers/customer_form.html` 已有可动态新增的联系人区块（contacts[0][name] 等命名）。
  - 视图 `apps/customers/views.py:89-206` 已解析 `contacts[...]` 并批量创建 `CustomerContact`。
  - 无需改动即可满足需求。
- 供应商：
  - 模板 `templates/suppliers/supplier_form.html` 目前仅有单一 `contact_person/phone/email` 字段。
  - 视图 `apps/suppliers/views.py:supplier_create` 未处理批量联系人。
  - 需在创建页提供可动态添加的联系人表单并在视图中解析保存。

## 技术实现
### 1) 模型复用
- 复用已有 `SupplierContact` 字段：`name, position, contact_type, phone, mobile, email, qq, wechat, notes, is_primary`。

### 2) 后端视图改造（供应商创建）
- 文件：`apps/suppliers/views.py`
- 在 `supplier_create` 成功保存 `Supplier` 后：
  - 遍历 `request.POST` 中以 `contacts[<index>]` 命名的键，聚合每一组联系人数据：
    - 必填：`name`
    - 选填：`position, contact_type, phone, mobile, email, qq, wechat, notes, is_primary`
  - 批量创建 `SupplierContact(supplier=supplier, ...)`。
  - 约束：若勾选了多个 `is_primary`，仅保留第一条为主联系人，其余置为非主；或若已有主联系人则覆盖为唯一主联系人。

### 3) 前端模板改造（供应商创建页）
- 文件：`templates/suppliers/supplier_form.html`
- 在“联系信息”区域下新增“联系人”区块，支持动态增加/删除：
  - 每行包含：
    - 姓名 `contacts[i][name]`（必填）
    - 职位 `contacts[i][position]`
    - 联系人类型 `contacts[i][contact_type]`（`primary/finance/technical/sales/other` 下拉）
    - 电话/手机/邮箱 `contacts[i][phone|mobile|email]`
    - QQ/微信 `contacts[i][qq|wechat]`
    - 备注 `contacts[i][notes]`
    - 主联系人勾选 `contacts[i][is_primary]`
  - 使用与客户创建页相同的命名与前端交互模式（Tailwind + 简单 JS），保持一致的用户体验。

### 4) 展示（建议）
- 文件：`templates/suppliers/supplier_detail.html`
- 增加“联系人”列表区块，显示 `supplier.contacts`（姓名、类型、电话/手机、邮箱，主联系人标识）。便于创建后立即验证。

## 校验与约束
- 跳过空姓名的联系人；其他字段可空。
- 统一唯一主联系人逻辑：同一供应商最多一个 `is_primary=True`。
- 不改动现有 `Supplier` 的单一联系字段（兼容旧数据与快速录入）。

## 验证方案
- 流程：
  - 在“新建供应商”页添加 2–3 个联系人并提交。
  - 查看供应商详情，应显示联系人列表，且仅一个主联系人。
- 回归：
  - 客户创建页已有多联系人功能，确认仍可正常保存多联系人。

## 影响范围与兼容性
- 无数据库变更；仅模板与视图逻辑扩展。
- 与 Admin 端的联系人内联管理兼容。

## 交付与改动文件
- `apps/suppliers/views.py`：创建视图解析并保存多联系人。
- `templates/suppliers/supplier_form.html`：新增可动态添加联系人区块。
- `templates/suppliers/supplier_detail.html`：新增联系人列表展示（建议）。

## 可选增强（非必需）
- 在客户创建页的联系人区块增加“主联系人”复选框，与现有模型保持一致。
- 使用 Formset 简化命名与校验；当前方案先沿用现有命名模式以减少改动量。

请确认是否按以上方案实施；确认后我将直接完成前后端改造并回归验证。