# Better Laser ERP æ ¸å¿ƒæµç¨‹å®æ–½çŠ¶å†µè¯„ä¼°

**è¯„ä¼°æ—¥æœŸ**: 2025-11-09
**è¯„ä¼°äºº**: AI Assistant (æµ®æµ®é…±)
**è¯„ä¼°èŒƒå›´**: é‡‡è´­æµç¨‹ã€é”€å”®æµç¨‹ã€å€Ÿç”¨æµç¨‹ã€é€€æ¢è´§æµç¨‹

---

## ğŸ“Š æ€»ä½“å®æ–½æƒ…å†µæ¦‚è§ˆ

| æµç¨‹ç±»åˆ« | å®Œæˆåº¦ | çŠ¶æ€è¯´æ˜ |
|---------|--------|---------|
| **é‡‡è´­æµç¨‹** | ğŸŸ¢ 85% | æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼Œç¼ºå°‘è´¢åŠ¡å¯¹è´¦è‡ªåŠ¨åŒ– |
| **é”€å”®æµç¨‹** | ğŸŸ¢ 90% | æ ¸å¿ƒåŠŸèƒ½å®Œæ•´ï¼Œç¼ºå°‘ä¿¡ç”¨é¢åº¦æ ¡éªŒ |
| **å€Ÿç”¨æµç¨‹** | ğŸ”´ 0% | å®Œå…¨æœªå®ç°ï¼Œéœ€è¦æ–°å»ºæ¨¡å— |
| **é€€æ¢è´§æµç¨‹** | ğŸŸ¡ 70% | åŸºç¡€é€€è´§å·²å®ç°ï¼Œç¼ºå°‘è´¢åŠ¡æ ¸é”€è‡ªåŠ¨åŒ– |
| **è´¢åŠ¡é›†æˆ** | ğŸŸ¡ 60% | æ¨¡å‹å®Œæ•´ï¼Œç¼ºå°‘ä¸šåŠ¡æµç¨‹é›†æˆ |

---

## ä¸€ã€é‡‡è´­æµç¨‹å®æ–½çŠ¶å†µ ğŸŸ¢ 85%

### 1.1 é‡‡è´­ç”³è¯· âœ… å·²å®Œæˆ

**éœ€æ±‚**:
- éœ€æ±‚éƒ¨é—¨/é‡‡è´­äººå‘˜æäº¤é‡‡è´­ç”³è¯·
- æ³¨æ˜ç‰©æ–™è§„æ ¼ã€æ•°é‡ã€é¢„ç®—ã€ä½¿ç”¨åœºæ™¯
- ç»éƒ¨é—¨è´Ÿè´£äººâ†’è´¢åŠ¡é¢„ç®—å®¡æ ¸â†’å®¡æ‰¹äººç¡®è®¤åç”Ÿæ•ˆ

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| é‡‡è´­ç”³è¯·åˆ›å»º | âœ… å®Œæ•´ | `PurchaseRequest` / `request_create` | æ”¯æŒå¡«å†™ç‰©æ–™ã€æ•°é‡ã€é¢„ç®— |
| é‡‡è´­ç”³è¯·æ˜ç»† | âœ… å®Œæ•´ | `PurchaseRequestItem` | æ”¯æŒå¤šè¡Œæ˜ç»† |
| æäº¤å®¡æ ¸ | âœ… å®Œæ•´ | `request_submit` | çŠ¶æ€æµè½¬: draft â†’ pending |
| å®¡æ ¸é€šè¿‡ | âœ… å®Œæ•´ | `request_approve` | çŠ¶æ€æµè½¬: pending â†’ approved |
| å®¡æ ¸æ‹’ç» | âœ… å®Œæ•´ | `request_reject` | çŠ¶æ€æµè½¬: pending â†’ rejected |
| è½¬é‡‡è´­è®¢å• | âœ… å®Œæ•´ | `request_convert_to_order` | è‡ªåŠ¨ç”Ÿæˆé‡‡è´­è®¢å• |
| **è´¢åŠ¡é¢„ç®—å®¡æ ¸** | âŒ ç¼ºå¤± | - | éœ€è¦é›†æˆbudgetå®¡æ ¸æµç¨‹ |
| **éƒ¨é—¨è´Ÿè´£äººå®¡æ‰¹** | âš ï¸ éƒ¨åˆ† | - | ç¼ºå°‘å¤šçº§å®¡æ‰¹æµé…ç½® |

**æ•°æ®æ¨¡å‹çŠ¶æ€**:
```python
class PurchaseRequest(BaseModel):  # âœ… å·²å®ç°
    request_number = CharField(max_length=100, unique=True)
    requested_by = ForeignKey(User)  # ç”³è¯·äºº
    department = ForeignKey('departments.Department')  # éƒ¨é—¨
    status = CharField(choices=[
        ('draft', 'è‰ç¨¿'),
        ('pending', 'å¾…å®¡æ ¸'),
        ('approved', 'å·²æ‰¹å‡†'),
        ('rejected', 'å·²æ‹’ç»'),
        ('converted', 'å·²è½¬è®¢å•'),
    ])
    request_date = DateField()
    required_date = DateField()
    total_budget = DecimalField()
    approved_by = ForeignKey(User)  # âœ… å®¡æ‰¹äºº
    # âš ï¸ ç¼ºå°‘: budget_approved_by (è´¢åŠ¡é¢„ç®—å®¡æ ¸äºº)
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âŒ è´¢åŠ¡é¢„ç®—å®¡æ ¸ç¯èŠ‚ (`apps/finance` çš„ Budget å®¡æ ¸é›†æˆ)
2. âŒ å¤šçº§å®¡æ‰¹æµé…ç½® (éƒ¨é—¨è´Ÿè´£äºº â†’ è´¢åŠ¡ â†’ æœ€ç»ˆå®¡æ‰¹äºº)
3. âŒ é¢„ç®—è¶…é¢é¢„è­¦

---

### 1.2 é‡‡è´­æ‰§è¡Œ âœ… å·²å®Œæˆ

**éœ€æ±‚**:
- åŸºäºå·²ç¡®è®¤çš„é‡‡è´­ç”³è¯·ï¼Œç›´æ¥ç”Ÿæˆé‡‡è´­è®¢å•ï¼ˆPOï¼‰
- æ˜ç¡®ä¾›åº”å•†ã€äº¤è´§æœŸã€å•ä»·ã€æ€»é‡‘é¢
- ç»é‡‡è´­è´Ÿè´£äººå¤æ ¸åå‘é€ä¾›åº”å•†ç¡®è®¤
- åŒæ­¥ç³»ç»Ÿç™»è®°è®¢å•çŠ¶æ€ä¸º"å¾…æ”¶è´§"

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| é‡‡è´­è®¢å•åˆ›å»º | âœ… å®Œæ•´ | `PurchaseOrder` / `order_create` | æ”¯æŒæ‰‹åŠ¨åˆ›å»ºæˆ–ä»ç”³è¯·å•è½¬æ¢ |
| è®¢å•æ˜ç»†ç®¡ç† | âœ… å®Œæ•´ | `PurchaseOrderItem` | æ”¯æŒå¤šè¡Œæ˜ç»† |
| ä¾›åº”å•†é€‰æ‹© | âœ… å®Œæ•´ | `supplier` å¤–é”® | å…³è”ä¾›åº”å•†æ¨¡å— |
| äº¤è´§æœŸç®¡ç† | âœ… å®Œæ•´ | `required_date`, `promised_date` | æ”¯æŒè¦æ±‚äº¤æœŸå’Œæ‰¿è¯ºäº¤æœŸ |
| è®¢å•å®¡æ ¸ | âœ… å®Œæ•´ | `order_approve` | é‡‡è´­è´Ÿè´£äººå¤æ ¸ |
| å‘é€ç¡®è®¤ | âš ï¸ éƒ¨åˆ† | `status='sent'` | ä»…çŠ¶æ€å˜æ›´ï¼Œæ— é‚®ä»¶/é€šçŸ¥ |
| çŠ¶æ€è·Ÿè¸ª | âœ… å®Œæ•´ | 9ç§çŠ¶æ€æµè½¬ | draft â†’ pending â†’ approved â†’ sent â†’ confirmed â†’ received â†’ completed |

**æ•°æ®æ¨¡å‹çŠ¶æ€**:
```python
class PurchaseOrder(BaseModel):  # âœ… å·²å®ç°
    order_number = CharField(max_length=100, unique=True)
    supplier = ForeignKey('suppliers.Supplier')
    status = CharField(choices=[
        ('draft', 'è‰ç¨¿'),
        ('pending', 'å¾…å®¡æ ¸'),
        ('approved', 'å·²å®¡æ ¸'),
        ('sent', 'å·²å‘é€'),
        ('confirmed', 'å·²ç¡®è®¤'),
        ('partial_received', 'éƒ¨åˆ†æ”¶è´§'),
        ('received', 'å·²æ”¶è´§'),
        ('completed', 'å·²å®Œæˆ'),
        ('cancelled', 'å·²å–æ¶ˆ'),
    ])
    order_date = DateField()
    required_date = DateField()
    promised_date = DateField()
    total_amount = DecimalField()
    approved_by = ForeignKey(User)
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âŒ ä¾›åº”å•†è‡ªåŠ¨é‚®ä»¶é€šçŸ¥åŠŸèƒ½
2. âš ï¸ ä¾›åº”å•†ç¡®è®¤å›å¤æ¥å£ (éœ€è¦ä¾›åº”å•†é—¨æˆ·)

---

### 1.3 ä»“åº“å…¥åº“ âœ… å·²å®Œæˆ

**éœ€æ±‚**:
- ä¾›åº”å•†äº¤è´§åï¼Œä»“åº“äººå‘˜æ ¸å¯¹é‡‡è´­è®¢å•ã€å®ç‰©åŠçº¿ä¸‹è´¨æ£€åˆæ ¼å‡­è¯
- æŒ‰å®é™…åˆæ ¼æ•°é‡ç”Ÿæˆå…¥åº“å•
- å…³è”é‡‡è´­è®¢å•æ›´æ–°çŠ¶æ€ä¸º"éƒ¨åˆ†å…¥åº“"/"å…¨éƒ¨å…¥åº“"
- å®Œæˆç‰©æ–™ä¸Šæ¶å¹¶åŒæ­¥åº“å­˜

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| æ”¶è´§å•åˆ›å»º | âœ… å®Œæ•´ | `PurchaseReceipt` / `receipt_create` | å…³è”é‡‡è´­è®¢å•åˆ›å»º |
| æ”¶è´§æ˜ç»†å½•å…¥ | âœ… å®Œæ•´ | `PurchaseReceiptItem` | æ”¯æŒæŒ‰å®é™…æ•°é‡æ”¶è´§ |
| éƒ¨åˆ†æ”¶è´§æ”¯æŒ | âœ… å®Œæ•´ | - | è‡ªåŠ¨è®¡ç®—å‰©ä½™å¾…æ”¶æ•°é‡ |
| ç¡®è®¤æ”¶è´§ | âœ… å®Œæ•´ | `receipt_receive` | çŠ¶æ€å˜æ›´ + åº“å­˜åŒæ­¥ |
| åº“å­˜åŒæ­¥ | âœ… å®Œæ•´ | `InventoryTransaction` | è‡ªåŠ¨åˆ›å»ºå…¥åº“äº¤æ˜“è®°å½• |
| è®¢å•çŠ¶æ€æ›´æ–° | âœ… å®Œæ•´ | - | è‡ªåŠ¨æ›´æ–°ä¸º partial_received/received |
| **è´¨æ£€ç¯èŠ‚** | âŒ ç¼ºå¤± | - | æ— è´¨æ£€å•åŠŸèƒ½ |

**æ•°æ®æ¨¡å‹çŠ¶æ€**:
```python
class PurchaseReceipt(BaseModel):  # âœ… å·²å®ç°
    receipt_number = CharField(max_length=100, unique=True)
    purchase_order = ForeignKey(PurchaseOrder)
    warehouse = ForeignKey('inventory.Warehouse')
    status = CharField(choices=[
        ('draft', 'è‰ç¨¿'),
        ('received', 'å·²æ”¶è´§'),
        ('cancelled', 'å·²å–æ¶ˆ'),
    ])
    receipt_date = DateField()
    received_by = ForeignKey(User)
    notes = TextField()  # å¯è®°å½•è´¨æ£€ä¿¡æ¯
    # âš ï¸ ç¼ºå°‘: quality_check_status (è´¨æ£€çŠ¶æ€)
```

**æ”¶è´§æ—¶åº“å­˜åŒæ­¥é€»è¾‘** (`receipt_receive` è§†å›¾):
```python
# âœ… å·²å®ç°
for receipt_item in receipt.items.all():
    # åˆ›å»ºåº“å­˜å…¥åº“äº¤æ˜“
    InventoryTransaction.objects.create(
        transaction_type='purchase',
        product=receipt_item.product,
        warehouse=receipt.warehouse,
        quantity=receipt_item.quantity,
        unit_cost=receipt_item.unit_price,
        reference_type='purchase_receipt',
        reference_id=str(receipt.id),
        operator=request.user
    )
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âŒ ç‹¬ç«‹çš„è´¨æ£€å•åŠŸèƒ½ (éœ€è¦æ–°å»º `QualityInspection` æ¨¡å‹)
2. âŒ è´¨æ£€ä¸åˆæ ¼æ‹’æ”¶æµç¨‹

---

### 1.4 è´¢åŠ¡å¯¹è´¦ä»˜æ¬¾ âš ï¸ éƒ¨åˆ†å®ç° (40%)

**éœ€æ±‚**:
- ç³»ç»Ÿè‡ªåŠ¨å…³è”é‡‡è´­è®¢å•ä¸å…¥åº“å•ç”Ÿæˆå¯¹è´¦æ¸…å•
- é‡‡è´­äººå‘˜æ ¸å¯¹æ¸…å•ä¸ä¾›åº”å•†å‘ç¥¨ä¿¡æ¯ï¼ˆé‡‘é¢ã€ç¨é¢ã€ç‰©æ–™ä¸€è‡´ï¼‰
- æäº¤è´¢åŠ¡å®¡æ ¸
- è´¢åŠ¡éªŒè¯å‘ç¥¨åˆè§„æ€§åç™»è®°åº”ä»˜è´¦å•
- æŒ‰ä»˜æ¬¾å‘¨æœŸå®Œæˆä»˜æ¬¾å¹¶æ ¸é”€è®¢å•ï¼Œæµç¨‹ç»“æŸ

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| **è‡ªåŠ¨å¯¹è´¦æ¸…å•** | âŒ ç¼ºå¤± | - | éœ€è¦æ–°å»ºåŠŸèƒ½ |
| åº”ä»˜è´¦æ¬¾ç”Ÿæˆ | âš ï¸ æ‰‹åŠ¨ | `SupplierAccount` | æ¨¡å‹å·²æœ‰ï¼Œç¼ºå°‘è‡ªåŠ¨åˆ›å»ºé€»è¾‘ |
| å‘ç¥¨ç®¡ç† | âŒ ç¼ºå¤± | - | æ— å‘ç¥¨æ¨¡å‹ |
| ä»˜æ¬¾è®°å½• | âœ… å®Œæ•´ | `Payment` | å¯æ‰‹åŠ¨ç™»è®°ä»˜æ¬¾ |
| è´¦æ¬¾æ ¸é”€ | âš ï¸ éƒ¨åˆ† | - | Paymentæœ‰å…³è”ï¼Œç¼ºå°‘æ ¸é”€é€»è¾‘ |
| ä»˜æ¬¾å‘¨æœŸç®¡ç† | âŒ ç¼ºå¤± | - | æ— ä»˜æ¬¾æé†’åŠŸèƒ½ |

**ç°æœ‰è´¢åŠ¡æ¨¡å‹çŠ¶æ€**:
```python
class SupplierAccount(BaseModel):  # âœ… æ¨¡å‹å·²å®ç°
    supplier = ForeignKey('suppliers.Supplier')
    purchase_order = ForeignKey(PurchaseOrder)  # âœ… å…³è”é‡‡è´­è®¢å•
    account_type = CharField(choices=[
        ('payable', 'åº”ä»˜æ¬¾'),
        ('advance', 'é¢„ä»˜æ¬¾'),
        ('other', 'å…¶ä»–'),
    ])
    amount = DecimalField()
    balance = DecimalField()  # æœªä»˜ä½™é¢
    due_date = DateField()
    status = CharField(choices=[
        ('pending', 'å¾…ä»˜æ¬¾'),
        ('partial', 'éƒ¨åˆ†ä»˜æ¬¾'),
        ('paid', 'å·²ä»˜æ¬¾'),
        ('overdue', 'å·²é€¾æœŸ'),
    ])
    # âš ï¸ ç¼ºå°‘: invoice_number (å‘ç¥¨å·)
    # âš ï¸ ç¼ºå°‘: auto_create é€»è¾‘

class Payment(BaseModel):  # âœ… æ¨¡å‹å·²å®ç°
    payment_type = CharField(choices=[('payment', 'ä»˜æ¬¾'), ('receipt', 'æ”¶æ¬¾')])
    supplier = ForeignKey('suppliers.Supplier', null=True)
    reference_type = CharField()  # å¯å…³è” 'purchase_order'
    reference_id = CharField()
    amount = DecimalField()
    payment_date = DateField()
    # âš ï¸ ç¼ºå°‘: write_off æ ¸é”€é€»è¾‘
```

**éœ€è¦å®ç°çš„åŠŸèƒ½**:
1. âŒ **è‡ªåŠ¨å¯¹è´¦æ¸…å•ç”Ÿæˆ** (æ ¸å¿ƒç¼ºå¤±)
   - å…³è”é‡‡è´­è®¢å• + æ”¶è´§å•
   - è®¡ç®—åº”ä»˜é‡‘é¢ (å·²æ”¶è´§é‡‘é¢ - å·²ä»˜é‡‘é¢)
   - ç”Ÿæˆå¯¹è´¦æŠ¥å‘Š

2. âŒ **å‘ç¥¨ç®¡ç†æ¨¡å—** (æ–°å»º)
   ```python
   class Invoice(BaseModel):  # âŒ éœ€è¦åˆ›å»º
       invoice_number = CharField()
       invoice_type = CharField(choices=[('purchase', 'é‡‡è´­å‘ç¥¨'), ('sales', 'é”€å”®å‘ç¥¨')])
       supplier = ForeignKey('suppliers.Supplier', null=True)
       customer = ForeignKey('customers.Customer', null=True)
       invoice_date = DateField()
       amount = DecimalField()
       tax_amount = DecimalField()
       status = CharField()
       # å…³è”é‡‡è´­è®¢å•/é”€å”®è®¢å•
   ```

3. âš ï¸ **åº”ä»˜è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ** (å¢å¼º)
   - æ”¶è´§ç¡®è®¤åè‡ªåŠ¨åˆ›å»º `SupplierAccount`
   - é‡‘é¢ = æ”¶è´§é‡‘é¢
   - åˆ°æœŸæ—¥ = æ”¶è´§æ—¥æœŸ + ä¾›åº”å•†è´¦æœŸ

4. âŒ **ä»˜æ¬¾æ ¸é”€é€»è¾‘** (æ–°å»º)
   - Payment åˆ›å»ºåè‡ªåŠ¨æ ¸é”€å¯¹åº” SupplierAccount
   - æ›´æ–° SupplierAccount.balance
   - å…¨é¢ä»˜æ¬¾åæ›´æ–° status = 'paid'

5. âŒ **ä»˜æ¬¾æé†’åŠŸèƒ½** (æ–°å»º)
   - åˆ°æœŸå‰Nå¤©æé†’
   - é€¾æœŸè‡ªåŠ¨æ ‡è®°

---

## äºŒã€é”€å”®æµç¨‹å®æ–½çŠ¶å†µ ğŸŸ¢ 90%

### 2.1 é”€å”®å‘èµ· âœ… å·²å®Œæˆ

**éœ€æ±‚**:
- é”€å”®äººå‘˜åˆ›å»ºæŠ¥ä»·å•ï¼Œå‘é€å®¢æˆ·ç¡®è®¤åç”Ÿæˆé”€å”®è®¢å•ï¼ˆSOï¼‰
- è®¢å•çŠ¶æ€é»˜è®¤"å¾…å‘è´§"ï¼ŒåŒæ­¥ç™»è®°æœªå‘è´§æ•°é‡

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| æŠ¥ä»·å•ç®¡ç† | âœ… å®Œæ•´ | `Quote` / å…¨å¥—è§†å›¾ | å›½å†…/æµ·å¤–æŠ¥ä»·å• |
| æŠ¥ä»·è½¬è®¢å• | âœ… å®Œæ•´ | `quote_convert_to_order` | ä¸€é”®è½¬æ¢ |
| é”€å”®è®¢å•åˆ›å»º | âœ… å®Œæ•´ | `SalesOrder` / `order_create` | æ”¯æŒæ‰‹åŠ¨åˆ›å»º |
| æœªå‘è´§æ•°é‡è·Ÿè¸ª | âœ… å®Œæ•´ | `SalesOrderItem.remaining_quantity` | è‡ªåŠ¨è®¡ç®— |
| æ‰“å°æ¨¡æ¿ | âœ… å®Œæ•´ | `PrintTemplate` | HiPrinté›†æˆ |

**æ•°æ®æ¨¡å‹çŠ¶æ€**:
```python
class Quote(BaseModel):  # âœ… å·²å®ç°
    quote_number = CharField(unique=True)
    quote_type = CharField(choices=[('domestic', 'å›½å†…'), ('overseas', 'æµ·å¤–')])
    customer = ForeignKey('customers.Customer')
    status = CharField(choices=[
        ('draft', 'è‰ç¨¿'),
        ('sent', 'å·²å‘é€'),
        ('accepted', 'å·²æ¥å—'),
        ('rejected', 'å·²æ‹’ç»'),
        ('expired', 'å·²è¿‡æœŸ'),
        ('converted', 'å·²è½¬è®¢å•'),
    ])
    converted_order = ForeignKey(SalesOrder, null=True)  # âœ… è½¬æ¢å…³è”

class SalesOrder(BaseModel):  # âœ… å·²å®ç°
    order_number = CharField(unique=True)
    customer = ForeignKey('customers.Customer')
    status = CharField(default='draft')  # âš ï¸ é»˜è®¤æ˜¯draftï¼Œä¸æ˜¯"å¾…å‘è´§"
    # å»ºè®®è°ƒæ•´: å®¡æ ¸é€šè¿‡åé»˜è®¤æ”¹ä¸º 'pending_shipment'
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âš ï¸ è®¢å•å®¡æ ¸é€šè¿‡åçŠ¶æ€åº”ä¸º `pending_shipment` è€Œé `confirmed` (è¯­ä¹‰ä¼˜åŒ–)

---

### 2.2 åˆ†æ‰¹å‘è´§æ‰§è¡Œ ğŸŸ¡ 80% (ç¼ºå°‘ä¿¡ç”¨é¢åº¦æ ¡éªŒ)

**éœ€æ±‚**:
- å‘è´§å‰æ ¡éªŒå®¢æˆ·ä¿¡ç”¨é¢åº¦ï¼ˆæœªè¶…é™å¯æ‰§è¡Œå‘è´§ï¼Œè¶…é™éœ€è´¢åŠ¡å®¡æ‰¹ï¼‰
- æŒ‰å®é™…å‘è´§æ•°é‡ç”Ÿæˆå‡ºåº“å•
- å…³è”é”€å”®è®¢å•æ›´æ–°æœªå‘è´§æ•°é‡åŠçŠ¶æ€ï¼ˆ"éƒ¨åˆ†å‘è´§"/"å…¨éƒ¨å‘è´§"ï¼‰
- ä»“åº“å‡­å‡ºåº“å•æ ¸éªŒå‡ºåº“å¹¶åŒæ­¥åº“å­˜
- æ•´å•å‘è´§å®Œæˆåï¼Œè®¢å•çŠ¶æ€è‡ªåŠ¨æ›´æ–°ä¸º"å·²å®Œæˆ"

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| **ä¿¡ç”¨é¢åº¦æ ¡éªŒ** | âŒ ç¼ºå¤± | - | å®¢æˆ·æ¨¡å‹æœ‰credit_limitå­—æ®µï¼Œç¼ºå°‘æ ¡éªŒé€»è¾‘ |
| å‘è´§å•åˆ›å»º | âœ… å®Œæ•´ | `Delivery` / `delivery_create` | å…³è”é”€å”®è®¢å• |
| éƒ¨åˆ†å‘è´§æ”¯æŒ | âœ… å®Œæ•´ | - | æ”¯æŒå¤šæ¬¡å‘è´§ |
| åº“å­˜æ‰£å‡ | âœ… å®Œæ•´ | `InventoryTransaction` | è‡ªåŠ¨åˆ›å»ºå‡ºåº“äº¤æ˜“ |
| è®¢å•çŠ¶æ€æ›´æ–° | âœ… å®Œæ•´ | - | è‡ªåŠ¨æ›´æ–°ä¸º partial_shipped/shipped |
| å‘è´§ç¡®è®¤ | âœ… å®Œæ•´ | `delivery_ship` | çŠ¶æ€å˜æ›´ + åº“å­˜åŒæ­¥ |

**å®¢æˆ·ä¿¡ç”¨é¢åº¦æ¨¡å‹çŠ¶æ€**:
```python
class Customer(BaseModel):  # âœ… å·²æœ‰å­—æ®µ
    credit_limit = DecimalField('ä¿¡ç”¨é¢åº¦', default=0)
    current_credit = DecimalField('å½“å‰ä¿¡ç”¨ä½™é¢', default=0)
    # âš ï¸ ç¼ºå°‘: ä¿¡ç”¨é¢åº¦ä½¿ç”¨è®¡ç®—é€»è¾‘
    # âš ï¸ ç¼ºå°‘: å‘è´§å‰æ ¡éªŒé€»è¾‘
```

**éœ€è¦å®ç°çš„ä¿¡ç”¨é¢åº¦æ ¡éªŒ**:
```python
# âŒ éœ€è¦åœ¨ delivery_ship è§†å›¾ä¸­æ·»åŠ 
def delivery_ship(request, pk):
    delivery = get_object_or_404(Delivery, pk=pk)
    order = delivery.sales_order
    customer = order.customer

    # è®¡ç®—å®¢æˆ·å½“å‰æ¬ æ¬¾
    outstanding_amount = CustomerAccount.objects.filter(
        customer=customer,
        status__in=['pending', 'partial']
    ).aggregate(total=Sum('balance'))['total'] or 0

    # æ ¡éªŒä¿¡ç”¨é¢åº¦
    if outstanding_amount + order.total_amount > customer.credit_limit:
        if not request.user.has_perm('sales.bypass_credit_check'):
            messages.error(request, f'å®¢æˆ·ä¿¡ç”¨é¢åº¦ä¸è¶³ï¼Œå½“å‰æ¬ æ¬¾: {outstanding_amount}ï¼Œè®¢å•é‡‘é¢: {order.total_amount}ï¼Œä¿¡ç”¨é¢åº¦: {customer.credit_limit}')
            return redirect('sales:delivery_detail', pk=pk)

    # ç»§ç»­å‘è´§æµç¨‹...
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âŒ **å‘è´§å‰ä¿¡ç”¨é¢åº¦æ ¡éªŒ** (æ ¸å¿ƒç¼ºå¤±)
2. âŒ **ä¿¡ç”¨é¢åº¦è¶…é™å®¡æ‰¹æµç¨‹** (éœ€è¦è´¢åŠ¡å®¡æ‰¹)
3. âŒ **ä¿¡ç”¨é¢åº¦å®æ—¶è®¡ç®—** (æœªä»˜æ¬¾è®¢å•æ€»é¢)

---

### 2.3 å¯¹è´¦å¼€ç¥¨ âš ï¸ éƒ¨åˆ†å®ç° (30%)

**éœ€æ±‚**:
- ä»¥å‡ºåº“å•ä¸ºæ ¸å¿ƒä¾æ®ï¼Œç³»ç»Ÿè‡ªåŠ¨å…³è”é”€å”®è®¢å•ä¸å‡ºåº“å•ç”Ÿæˆå¯¹è´¦æ¸…å•
- é”€å”®äººå‘˜ä¸å®¢æˆ·ç¡®è®¤åæäº¤è´¢åŠ¡
- è´¢åŠ¡åˆå¹¶å¼€å…·å‘ç¥¨å¹¶å…³è”è®¢å•ç”Ÿæˆåº”æ”¶è´¦å•

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| **è‡ªåŠ¨å¯¹è´¦æ¸…å•** | âŒ ç¼ºå¤± | - | éœ€è¦æ–°å»ºåŠŸèƒ½ |
| åº”æ”¶è´¦æ¬¾ç”Ÿæˆ | âš ï¸ æ‰‹åŠ¨ | `CustomerAccount` | æ¨¡å‹å·²æœ‰ï¼Œç¼ºå°‘è‡ªåŠ¨åˆ›å»º |
| å‘ç¥¨ç®¡ç† | âŒ ç¼ºå¤± | - | æ— å‘ç¥¨æ¨¡å‹ (åŒé‡‡è´­) |
| å‘ç¥¨å¼€å…· | âŒ ç¼ºå¤± | - | éœ€è¦æ–°å»ºåŠŸèƒ½ |

**ç°æœ‰è´¢åŠ¡æ¨¡å‹çŠ¶æ€**:
```python
class CustomerAccount(BaseModel):  # âœ… æ¨¡å‹å·²å®ç°
    customer = ForeignKey('customers.Customer')
    sales_order = ForeignKey(SalesOrder)  # âœ… å…³è”é”€å”®è®¢å•
    account_type = CharField(choices=[
        ('receivable', 'åº”æ”¶æ¬¾'),
        ('prepaid', 'é¢„æ”¶æ¬¾'),
        ('other', 'å…¶ä»–'),
    ])
    amount = DecimalField()
    balance = DecimalField()  # æœªæ”¶ä½™é¢
    due_date = DateField()
    status = CharField()
    # âš ï¸ ç¼ºå°‘: invoice_number (å‘ç¥¨å·)
    # âš ï¸ ç¼ºå°‘: auto_create é€»è¾‘
```

**éœ€è¦å®ç°çš„åŠŸèƒ½** (å‚è€ƒé‡‡è´­æµç¨‹):
1. âŒ **è‡ªåŠ¨å¯¹è´¦æ¸…å•ç”Ÿæˆ**
2. âŒ **å‘ç¥¨ç®¡ç†æ¨¡å—** (åŒé‡‡è´­ï¼Œç»Ÿä¸€Invoiceæ¨¡å‹)
3. âŒ **åº”æ”¶è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ** (å‘è´§åè‡ªåŠ¨åˆ›å»º)

---

### 2.4 è´¢åŠ¡æ”¶æ¬¾ âš ï¸ éƒ¨åˆ†å®ç° (50%)

**éœ€æ±‚**:
- è´¢åŠ¡ç™»è®°å®¢æˆ·å®é™…æ”¶æ¬¾é‡‘é¢
- æ ¸é”€å¯¹åº”åº”æ”¶è´¦å•
- è‹¥å…¨é¢æ”¶æ¬¾åˆ™è®¢å•é—­ç¯ï¼Œæµç¨‹ç»“æŸ

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| æ”¶æ¬¾è®°å½• | âœ… å®Œæ•´ | `Payment` | å¯æ‰‹åŠ¨ç™»è®° |
| è´¦æ¬¾æ ¸é”€ | âš ï¸ éƒ¨åˆ† | - | ç¼ºå°‘è‡ªåŠ¨æ ¸é”€é€»è¾‘ |
| è®¢å•é—­ç¯ | âŒ ç¼ºå¤± | - | æ— è‡ªåŠ¨å®Œæˆé€»è¾‘ |

**éœ€è¦å®ç°çš„åŠŸèƒ½** (å‚è€ƒé‡‡è´­ä»˜æ¬¾):
1. âŒ **æ”¶æ¬¾æ ¸é”€é€»è¾‘**
2. âŒ **è®¢å•è‡ªåŠ¨å®Œæˆ** (å…¨é¢æ”¶æ¬¾å status = 'completed')

---

## ä¸‰ã€å€Ÿç”¨æµç¨‹å®æ–½çŠ¶å†µ ğŸ”´ 0% (å®Œå…¨æœªå®ç°)

### 3.1 é”€å”®å€Ÿç”¨æµç¨‹ âŒ æœªå®ç°

**éœ€æ±‚**:
1. **å€Ÿç”¨å‘èµ·**: é”€å”®äººå‘˜åˆ›å»ºå€Ÿç”¨è®¢å• â†’ é”€å”®è´Ÿè´£äººå®¡æ ¸ â†’ è‡ªåŠ¨ç”Ÿæˆå‡ºåº“å•
2. **å€Ÿè½¬é”€å”®**: åœ¨åŸå€Ÿç”¨å•ä¸Šä¸€é”®ç”Ÿæˆé”€å”®è®¢å• â†’ æŒ‰é”€å”®æµç¨‹æ‰§è¡Œ
3. **å€Ÿç”¨å½’è¿˜**: åœ¨åŸå€Ÿç”¨å•ä¸Šæ“ä½œå½’è¿˜ â†’ æŒ‰å®é™…å½’è¿˜æ•°é‡ç”Ÿæˆå…¥åº“å•

**ç¼ºå¤±å†…å®¹**:
- âŒ **SalesLoan æ¨¡å‹** (é”€å”®å€Ÿç”¨å•)
- âŒ **SalesLoanItem æ¨¡å‹** (é”€å”®å€Ÿç”¨æ˜ç»†)
- âŒ æ‰€æœ‰ç›¸å…³è§†å›¾å’ŒURLé…ç½®
- âŒ å®¡æ‰¹æµç¨‹
- âŒ å€Ÿè½¬é”€é€»è¾‘
- âŒ å½’è¿˜æµç¨‹

**éœ€è¦åˆ›å»ºçš„æ¨¡å‹**:
```python
class SalesLoan(BaseModel):  # âŒ éœ€è¦åˆ›å»º
    """é”€å”®å€Ÿç”¨å•"""
    loan_number = CharField('å€Ÿç”¨å•å·', max_length=100, unique=True)
    customer = ForeignKey('customers.Customer', verbose_name='å€Ÿç”¨å®¢æˆ·')
    loan_type = CharField('å€Ÿç”¨ç±»å‹', max_length=20, choices=[
        ('trial', 'è¯•ç”¨'),
        ('demo', 'æ¼”ç¤º'),
        ('sample', 'æ ·å“'),
        ('other', 'å…¶ä»–'),
    ])
    status = CharField('çŠ¶æ€', max_length=20, choices=[
        ('draft', 'è‰ç¨¿'),
        ('pending', 'å¾…å®¡æ ¸'),
        ('approved', 'å·²å®¡æ ¸'),
        ('loaned', 'å·²å€Ÿå‡º'),
        ('partial_returned', 'éƒ¨åˆ†å½’è¿˜'),
        ('returned', 'å·²å½’è¿˜'),
        ('converted', 'å·²è½¬é”€å”®'),
        ('cancelled', 'å·²å–æ¶ˆ'),
    ])
    loan_date = DateField('å€Ÿå‡ºæ—¥æœŸ')
    expected_return_date = DateField('é¢„è®¡å½’è¿˜æ—¥æœŸ', null=True)
    actual_return_date = DateField('å®é™…å½’è¿˜æ—¥æœŸ', null=True)

    # å®¡æ‰¹äººå‘˜
    requested_by = ForeignKey(User, related_name='requested_sales_loans', verbose_name='ç”³è¯·äºº')
    approved_by = ForeignKey(User, related_name='approved_sales_loans', null=True, verbose_name='å®¡æ‰¹äºº')

    # è½¬æ¢å…³è”
    converted_order = ForeignKey(SalesOrder, null=True, blank=True, verbose_name='è½¬æ¢çš„é”€å”®è®¢å•')

    # å‡ºå…¥åº“å…³è”
    delivery = ForeignKey(Delivery, null=True, blank=True, verbose_name='å‡ºåº“å•')
    # å½’è¿˜æ—¶çš„å…¥åº“è®°å½•
    return_transactions = ManyToManyField('inventory.InventoryTransaction', blank=True)

    notes = TextField('å¤‡æ³¨', blank=True)

class SalesLoanItem(BaseModel):  # âŒ éœ€è¦åˆ›å»º
    """é”€å”®å€Ÿç”¨æ˜ç»†"""
    loan = ForeignKey(SalesLoan, related_name='items', verbose_name='å€Ÿç”¨å•')
    product = ForeignKey('products.Product', verbose_name='äº§å“')
    quantity = DecimalField('å€Ÿç”¨æ•°é‡', max_digits=10, decimal_places=3)
    returned_quantity = DecimalField('å·²å½’è¿˜æ•°é‡', max_digits=10, decimal_places=3, default=0)

    @property
    def remaining_quantity(self):
        return self.quantity - self.returned_quantity

    notes = TextField('å¤‡æ³¨', blank=True)
```

**éœ€è¦å®ç°çš„è§†å›¾**:
```python
# âŒ éœ€è¦åˆ›å»º apps/sales/views_loan.py

def loan_list(request):  # å€Ÿç”¨å•åˆ—è¡¨
def loan_detail(request, pk):  # å€Ÿç”¨å•è¯¦æƒ…
def loan_create(request):  # åˆ›å»ºå€Ÿç”¨å•
def loan_update(request, pk):  # ç¼–è¾‘å€Ÿç”¨å•
def loan_delete(request, pk):  # åˆ é™¤å€Ÿç”¨å•
def loan_submit(request, pk):  # æäº¤å®¡æ ¸
def loan_approve(request, pk):  # å®¡æ ¸é€šè¿‡
def loan_reject(request, pk):  # å®¡æ ¸æ‹’ç»
def loan_convert_to_order(request, pk):  # å€Ÿè½¬é”€å”®
def loan_return(request, pk):  # å½’è¿˜æ“ä½œ
def loan_return_create(request, pk):  # åˆ›å»ºå½’è¿˜å•
```

---

### 3.2 é‡‡è´­å€Ÿç”¨æµç¨‹ âŒ æœªå®ç°

**éœ€æ±‚**:
1. **å€Ÿç”¨å‘èµ·**: é‡‡è´­äººå‘˜åˆ›å»ºå€Ÿç”¨è®¢å• â†’ é‡‡è´­è´Ÿè´£äººå®¡æ ¸ â†’ è‡ªåŠ¨ç”Ÿæˆå…¥åº“å•
2. **å€Ÿè½¬é‡‡è´­**: ç›´æ¥ç”Ÿæˆé‡‡è´­è®¢å• â†’ æŒ‰é‡‡è´­æµç¨‹æ‰§è¡Œ
3. **å€Ÿç”¨å½’è¿˜**: åœ¨åŸå€Ÿç”¨å•ä¸Šæ“ä½œå½’è¿˜ â†’ æŒ‰å®é™…å½’è¿˜æ•°é‡ç”Ÿæˆå‡ºåº“å•

**ç¼ºå¤±å†…å®¹**:
- âŒ **PurchaseLoan æ¨¡å‹** (é‡‡è´­å€Ÿç”¨å•)
- âŒ **PurchaseLoanItem æ¨¡å‹** (é‡‡è´­å€Ÿç”¨æ˜ç»†)
- âŒ æ‰€æœ‰ç›¸å…³è§†å›¾å’ŒURLé…ç½®
- âŒ å®¡æ‰¹æµç¨‹
- âŒ å€Ÿè½¬é‡‡è´­é€»è¾‘
- âŒ å½’è¿˜æµç¨‹

**éœ€è¦åˆ›å»ºçš„æ¨¡å‹** (å‚è€ƒé”€å”®å€Ÿç”¨):
```python
class PurchaseLoan(BaseModel):  # âŒ éœ€è¦åˆ›å»º
    """é‡‡è´­å€Ÿç”¨å•"""
    loan_number = CharField('å€Ÿç”¨å•å·', max_length=100, unique=True)
    supplier = ForeignKey('suppliers.Supplier', verbose_name='å€Ÿç”¨ä¾›åº”å•†')
    loan_type = CharField('å€Ÿç”¨ç±»å‹', max_length=20, choices=[
        ('trial', 'è¯•ç”¨'),
        ('test', 'æµ‹è¯•'),
        ('sample', 'æ ·å“'),
        ('other', 'å…¶ä»–'),
    ])
    status = CharField('çŠ¶æ€', max_length=20, choices=[...])
    loan_date = DateField('å€Ÿå…¥æ—¥æœŸ')
    expected_return_date = DateField('é¢„è®¡å½’è¿˜æ—¥æœŸ', null=True)
    actual_return_date = DateField('å®é™…å½’è¿˜æ—¥æœŸ', null=True)

    requested_by = ForeignKey(User, related_name='requested_purchase_loans')
    approved_by = ForeignKey(User, related_name='approved_purchase_loans', null=True)

    converted_order = ForeignKey(PurchaseOrder, null=True, verbose_name='è½¬æ¢çš„é‡‡è´­è®¢å•')

    receipt = ForeignKey(PurchaseReceipt, null=True, verbose_name='å…¥åº“å•')
    return_transactions = ManyToManyField('inventory.InventoryTransaction', blank=True)

    notes = TextField('å¤‡æ³¨', blank=True)

class PurchaseLoanItem(BaseModel):  # âŒ éœ€è¦åˆ›å»º
    loan = ForeignKey(PurchaseLoan, related_name='items')
    product = ForeignKey('products.Product')
    quantity = DecimalField('å€Ÿå…¥æ•°é‡', max_digits=10, decimal_places=3)
    returned_quantity = DecimalField('å·²å½’è¿˜æ•°é‡', max_digits=10, decimal_places=3, default=0)
```

**éœ€è¦å®ç°çš„è§†å›¾** (åŒé”€å”®å€Ÿç”¨æ¨¡å¼):
```python
# âŒ éœ€è¦åˆ›å»º apps/purchase/views_loan.py
```

---

## å››ã€é€€æ¢è´§æµç¨‹å®æ–½çŠ¶å†µ ğŸŸ¡ 70%

### 4.1 é”€å”®é€€æ¢è´§æµç¨‹ ğŸŸ¡ 70%

**éœ€æ±‚**:
1. **é€€è´§å¤„ç†**:
   - é”€å”®äººå‘˜å‘èµ·é€€è´§ç”³è¯· â†’ å®¡æ‰¹ â†’ ç”Ÿæˆå…¥åº“å• + åº”æ”¶å†²é”€è´¦å•
   - è´¢åŠ¡å‡­å•æ®è°ƒæ•´åº”æ”¶æ¬¾å¹¶æ ¸é”€
2. **æ¢è´§å¤„ç†**: çº¿ä¸‹æ“ä½œï¼Œç³»ç»Ÿä»…ç•™å­˜è®°å½•

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| é€€è´§ç”³è¯· | âœ… å®Œæ•´ | `SalesReturn` / `return_create` | æ”¯æŒé€€è´§åŸå›  |
| é€€è´§å®¡æ‰¹ | âœ… å®Œæ•´ | `return_approve` | å®¡æ‰¹æµç¨‹ |
| å…¥åº“å•ç”Ÿæˆ | âœ… å®Œæ•´ | - | return_processæ—¶åˆ›å»º |
| **åº”æ”¶å†²é”€è´¦å•** | âŒ ç¼ºå¤± | - | éœ€è¦è‡ªåŠ¨ç”Ÿæˆè´Ÿæ•°è´¦å• |
| **è´¢åŠ¡æ ¸é”€** | âŒ ç¼ºå¤± | - | éœ€è¦è‡ªåŠ¨è°ƒæ•´CustomerAccount |
| é€€è´§ç»Ÿè®¡ | âœ… å®Œæ•´ | `return_statistics` | æ•°æ®åˆ†æ |
| **æ¢è´§è®°å½•** | âŒ ç¼ºå¤± | - | éœ€è¦æ–°å¢å­—æ®µè®°å½• |

**ç°æœ‰é€€è´§å¤„ç†é€»è¾‘** (`return_process` è§†å›¾):
```python
# âœ… å·²å®ç°: åº“å­˜å…¥åº“
for return_item in sales_return.items.all():
    transaction = InventoryTransaction.objects.create(
        transaction_type='return',
        product=return_item.order_item.product,
        warehouse=warehouse,
        quantity=return_item.quantity,
        ...
    )

# âš ï¸ éƒ¨åˆ†å®ç°: è´¢åŠ¡é€€æ¬¾
customer_account = CustomerAccount.objects.filter(
    sales_order=sales_return.sales_order,
    customer=sales_return.sales_order.customer
).first()

if customer_account and actual_refund > 0:
    # âœ… æ›´æ–°å®¢æˆ·è´¦æ¬¾ä½™é¢
    customer_account.balance -= actual_refund
    customer_account.save()

    # âœ… åˆ›å»ºé€€æ¬¾è®°å½•
    payment = Payment.objects.create(
        payment_number=DocumentNumberGenerator.generate('RF'),
        payment_type='payment',  # ä»˜æ¬¾ï¼ˆé€€æ¬¾ç»™å®¢æˆ·ï¼‰
        ...
    )

# âŒ ç¼ºå¤±: åº”æ”¶è´¦æ¬¾å†²é”€è®°å½•
# åº”è¯¥åˆ›å»ºè´Ÿæ•°çš„CustomerAccountè®°å½•,è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹balance
```

**éœ€è¦ä¼˜åŒ–çš„è´¢åŠ¡å¤„ç†**:
```python
# âŒ åº”è¯¥æ”¹ä¸º:
# 1. åˆ›å»ºè´Ÿæ•°åº”æ”¶è´¦æ¬¾ (å†²é”€è®°å½•)
negative_account = CustomerAccount.objects.create(
    customer=sales_return.sales_order.customer,
    sales_order=sales_return.sales_order,
    account_type='receivable',
    amount=-actual_refund,  # è´Ÿæ•°
    balance=-actual_refund,
    status='completed',
    due_date=timezone.now().date(),
    reference_type='sales_return',
    reference_id=str(sales_return.id),
    description=f'é”€å”®é€€è´§å†²é”€ - {sales_return.return_number}'
)

# 2. æ ¸é”€åŸåº”æ”¶è´¦æ¬¾
if customer_account:
    customer_account.balance -= actual_refund
    if customer_account.balance <= 0:
        customer_account.status = 'paid'
    customer_account.save()
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âŒ **åº”æ”¶è´¦æ¬¾å†²é”€è®°å½•** (éœ€è¦åˆ›å»ºè´Ÿæ•°è´¦æ¬¾)
2. âŒ **æ¢è´§è®°å½•å­—æ®µ** (åœ¨SalesReturnä¸­å¢åŠ  `exchange_type`, `exchange_notes`)

---

### 4.2 é‡‡è´­é€€æ¢è´§æµç¨‹ ğŸŸ¡ 70%

**éœ€æ±‚**:
1. **é€€è´§å¤„ç†**:
   - é‡‡è´­äººå‘˜å‘èµ·é€€è´§ç”³è¯· â†’ å®¡æ‰¹ â†’ ç”Ÿæˆå‡ºåº“å• + åº”ä»˜å†²é”€è´¦å•
   - è´¢åŠ¡å‡­å•æ®è°ƒæ•´åº”ä»˜æ¬¾å¹¶æ ¸é”€
2. **æ¢è´§å¤„ç†**: çº¿ä¸‹æ“ä½œï¼Œç³»ç»Ÿä»…ç•™å­˜è®°å½•

**å®æ–½æƒ…å†µ**:
| åŠŸèƒ½ç‚¹ | å®ç°çŠ¶æ€ | æ¨¡å‹/è§†å›¾ | è¯´æ˜ |
|-------|---------|----------|------|
| é€€è´§ç”³è¯· | âœ… å®Œæ•´ | `PurchaseReturn` / `return_create` | æ”¯æŒé€€è´§åŸå›  |
| é€€è´§å®¡æ‰¹ | âœ… å®Œæ•´ | `return_approve` | å®¡æ‰¹æµç¨‹ |
| å‡ºåº“å•ç”Ÿæˆ | âš ï¸ éƒ¨åˆ† | - | return_approveæ—¶åˆ›å»ºåº“å­˜äº¤æ˜“ |
| **åº”ä»˜å†²é”€è´¦å•** | âŒ ç¼ºå¤± | - | éœ€è¦è‡ªåŠ¨ç”Ÿæˆè´Ÿæ•°è´¦å• |
| **è´¢åŠ¡æ ¸é”€** | âŒ ç¼ºå¤± | - | éœ€è¦è‡ªåŠ¨è°ƒæ•´SupplierAccount |
| é€€è´§ç»Ÿè®¡ | âœ… å®Œæ•´ | `return_statistics` | æ•°æ®åˆ†æ |
| **æ¢è´§è®°å½•** | âŒ ç¼ºå¤± | - | éœ€è¦æ–°å¢å­—æ®µ |

**ç°æœ‰é€€è´§å¤„ç†é€»è¾‘** (`return_approve` è§†å›¾):
```python
# âœ… å·²å®ç°: åº“å­˜å‡ºåº“
for return_item in purchase_return.items.all():
    transaction = InventoryTransaction.objects.create(
        transaction_type='return',
        product=return_item.product,
        warehouse=warehouse,
        quantity=-return_item.quantity,  # è´Ÿæ•°è¡¨ç¤ºå‡ºåº“
        ...
    )

# âŒ ç¼ºå¤±: è´¢åŠ¡é€€æ¬¾é€»è¾‘ (å®Œå…¨æ²¡æœ‰)
```

**éœ€è¦å®ç°çš„è´¢åŠ¡å¤„ç†** (å‚è€ƒé”€å”®é€€è´§):
```python
# âŒ éœ€è¦åœ¨return_approveä¸­æ·»åŠ :
# 1. åˆ›å»ºè´Ÿæ•°åº”ä»˜è´¦æ¬¾ (å†²é”€è®°å½•)
negative_account = SupplierAccount.objects.create(
    supplier=purchase_return.purchase_order.supplier,
    purchase_order=purchase_return.purchase_order,
    account_type='payable',
    amount=-refund_amount,  # è´Ÿæ•°
    balance=-refund_amount,
    status='completed',
    reference_type='purchase_return',
    reference_id=str(purchase_return.id),
    description=f'é‡‡è´­é€€è´§å†²é”€ - {purchase_return.return_number}'
)

# 2. æ ¸é”€åŸåº”ä»˜è´¦æ¬¾
supplier_account = SupplierAccount.objects.filter(
    purchase_order=purchase_return.purchase_order
).first()
if supplier_account:
    supplier_account.balance -= refund_amount
    if supplier_account.balance <= 0:
        supplier_account.status = 'paid'
    supplier_account.save()
```

**ç¼ºå¤±åŠŸèƒ½**:
1. âŒ **è´¢åŠ¡é€€æ¬¾é€»è¾‘** (å®Œå…¨ç¼ºå¤±)
2. âŒ **åº”ä»˜è´¦æ¬¾å†²é”€è®°å½•**
3. âŒ **æ¢è´§è®°å½•å­—æ®µ**

---

## äº”ã€è´¢åŠ¡é›†æˆå®æ–½çŠ¶å†µ ğŸŸ¡ 60%

### 5.1 å·²å®ç°çš„è´¢åŠ¡æ¨¡å—

| æ¨¡å‹ | å®ç°çŠ¶æ€ | è§†å›¾ | è¯´æ˜ |
|-----|---------|------|------|
| Account | âœ… å®Œæ•´ | list/detail | ä¼šè®¡ç§‘ç›® |
| Journal | âœ… å®Œæ•´ | list/detail | è®°è´¦å‡­è¯ |
| JournalEntry | âœ… å®Œæ•´ | - | è®°è´¦åˆ†å½• |
| CustomerAccount | âœ… å®Œæ•´ | list | å®¢æˆ·åº”æ”¶è´¦æ¬¾ |
| SupplierAccount | âœ… å®Œæ•´ | list | ä¾›åº”å•†åº”ä»˜è´¦æ¬¾ |
| Payment | âœ… å®Œæ•´ | list/detail | æ”¶ä»˜æ¬¾è®°å½• |
| Budget | âœ… å®Œæ•´ | list/detail | é¢„ç®—ç®¡ç† |

### 5.2 ç¼ºå¤±çš„è´¢åŠ¡åŠŸèƒ½

1. âŒ **å‘ç¥¨ç®¡ç†æ¨¡å—** (ç»Ÿä¸€ç®¡ç†é‡‡è´­/é”€å”®å‘ç¥¨)
2. âŒ **è‡ªåŠ¨å¯¹è´¦åŠŸèƒ½** (é‡‡è´­å¯¹è´¦ã€é”€å”®å¯¹è´¦)
3. âŒ **åº”æ”¶/åº”ä»˜è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ** (ä¸šåŠ¡æµç¨‹è§¦å‘)
4. âŒ **è´¦æ¬¾æ ¸é”€è‡ªåŠ¨åŒ–** (æ”¶ä»˜æ¬¾è‡ªåŠ¨æ ¸é”€)
5. âŒ **é¢„ç®—å®¡æ ¸é›†æˆ** (é‡‡è´­ç”³è¯·é¢„ç®—å®¡æ ¸)
6. âŒ **è´¢åŠ¡æŠ¥è¡¨** (åº”æ”¶è´¦é¾„ã€åº”ä»˜è´¦é¾„ã€ç°é‡‘æµ)

---

## å…­ã€å®Œæ•´å·¥ä½œæµè®¡åˆ’

### é˜¶æ®µä¸€ï¼šé‡‡è´­æµç¨‹å®Œå–„ (ä¼˜å…ˆçº§: ğŸ”´ é«˜)

#### ä»»åŠ¡ 1.1: é‡‡è´­ç”³è¯·è´¢åŠ¡é¢„ç®—å®¡æ ¸ â±ï¸ 2å¤©

**ç›®æ ‡**: å®ç°é‡‡è´­ç”³è¯·çš„è´¢åŠ¡é¢„ç®—å®¡æ ¸ç¯èŠ‚

**å­ä»»åŠ¡**:
1. åœ¨ `PurchaseRequest` æ¨¡å‹æ·»åŠ  `budget_approved_by` å­—æ®µ
2. å®ç° `request_budget_approve` è§†å›¾
3. ä¿®æ”¹å®¡æ‰¹æµç¨‹: æäº¤ â†’ éƒ¨é—¨å®¡æ‰¹ â†’ è´¢åŠ¡é¢„ç®—å®¡æ‰¹ â†’ æœ€ç»ˆå®¡æ‰¹
4. æ·»åŠ é¢„ç®—è¶…é¢é¢„è­¦åŠŸèƒ½

**æ–‡ä»¶å˜æ›´**:
- `apps/purchase/models.py` - æ·»åŠ å­—æ®µ
- `apps/purchase/views.py` - æ–°å¢è§†å›¾
- `apps/purchase/urls.py` - æ–°å¢è·¯ç”±
- æ•°æ®åº“è¿ç§»

---

#### ä»»åŠ¡ 1.2: é‡‡è´­å¯¹è´¦ä¸å‘ç¥¨ç®¡ç† â±ï¸ 5å¤©

**ç›®æ ‡**: å®ç°é‡‡è´­è®¢å•è‡ªåŠ¨å¯¹è´¦ã€å‘ç¥¨ç®¡ç†ã€åº”ä»˜è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ

**å­ä»»åŠ¡**:
1. **åˆ›å»º Invoice æ¨¡å‹** (ç»Ÿä¸€ç®¡ç†é‡‡è´­/é”€å”®å‘ç¥¨)
   ```python
   # apps/finance/models.py
   class Invoice(BaseModel):
       invoice_number = CharField()
       invoice_type = CharField(choices=[('purchase', 'é‡‡è´­'), ('sales', 'é”€å”®')])
       supplier = ForeignKey('suppliers.Supplier', null=True)
       customer = ForeignKey('customers.Customer', null=True)
       invoice_date = DateField()
       amount = DecimalField()
       tax_amount = DecimalField()
       status = CharField()
       reference_type = CharField()
       reference_id = CharField()
   ```

2. **åˆ›å»ºå¯¹è´¦æ¸…å•åŠŸèƒ½**
   ```python
   # apps/purchase/views.py
   def order_reconciliation(request, pk):
       """é‡‡è´­è®¢å•å¯¹è´¦"""
       order = PurchaseOrder.objects.get(pk=pk)
       receipts = PurchaseReceipt.objects.filter(purchase_order=order)
       # è®¡ç®—å·²æ”¶è´§é‡‘é¢ã€å·²ä»˜é‡‘é¢ã€å¾…ä»˜é‡‘é¢
       # ç”Ÿæˆå¯¹è´¦æ¸…å•
   ```

3. **åº”ä»˜è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ**
   - åœ¨ `receipt_receive` è§†å›¾ä¸­æ·»åŠ è‡ªåŠ¨åˆ›å»º `SupplierAccount` é€»è¾‘
   - é‡‘é¢ = æ”¶è´§é‡‘é¢
   - åˆ°æœŸæ—¥ = æ”¶è´§æ—¥æœŸ + ä¾›åº”å•†è´¦æœŸ

4. **ä»˜æ¬¾æ ¸é”€é€»è¾‘**
   - åœ¨ `Payment.save()` æ–¹æ³•ä¸­æ·»åŠ è‡ªåŠ¨æ ¸é”€é€»è¾‘
   - æ›´æ–° `SupplierAccount.balance`

**æ–‡ä»¶å˜æ›´**:
- `apps/finance/models.py` - æ–°å¢Invoiceæ¨¡å‹
- `apps/purchase/views.py` - æ–°å¢å¯¹è´¦è§†å›¾
- `apps/finance/views.py` - ä¿®æ”¹paymentç›¸å…³é€»è¾‘
- å¤šä¸ªæ•°æ®åº“è¿ç§»

---

#### ä»»åŠ¡ 1.3: è´¨æ£€å•åŠŸèƒ½ â±ï¸ 3å¤©

**ç›®æ ‡**: å®ç°ç‹¬ç«‹çš„è´¨æ£€å•åŠŸèƒ½

**å­ä»»åŠ¡**:
1. åˆ›å»º `QualityInspection` æ¨¡å‹
2. åˆ›å»º `QualityInspectionItem` æ¨¡å‹
3. å®ç°è´¨æ£€æµç¨‹: æ”¶è´§ â†’ è´¨æ£€ â†’ åˆæ ¼å…¥åº“ / ä¸åˆæ ¼æ‹’æ”¶
4. é›†æˆåˆ°é‡‡è´­æ”¶è´§æµç¨‹

**æ–‡ä»¶å˜æ›´**:
- æ–°å»º `apps/quality/` æ¨¡å—
- æˆ–åœ¨ `apps/purchase/` ä¸­æ·»åŠ è´¨æ£€æ¨¡å‹

---

### é˜¶æ®µäºŒï¼šé”€å”®æµç¨‹å®Œå–„ (ä¼˜å…ˆçº§: ğŸ”´ é«˜)

#### ä»»åŠ¡ 2.1: ä¿¡ç”¨é¢åº¦æ ¡éªŒ â±ï¸ 2å¤©

**ç›®æ ‡**: å®ç°å‘è´§å‰å®¢æˆ·ä¿¡ç”¨é¢åº¦æ ¡éªŒ

**å­ä»»åŠ¡**:
1. æ·»åŠ ä¿¡ç”¨é¢åº¦å®æ—¶è®¡ç®—å‡½æ•°
2. åœ¨ `delivery_ship` è§†å›¾ä¸­æ·»åŠ æ ¡éªŒé€»è¾‘
3. å®ç°ä¿¡ç”¨é¢åº¦è¶…é™å®¡æ‰¹æµç¨‹
4. æ·»åŠ ä¿¡ç”¨é¢åº¦é¢„è­¦é€šçŸ¥

**æ–‡ä»¶å˜æ›´**:
- `apps/customers/models.py` - æ·»åŠ è®¡ç®—æ–¹æ³•
- `apps/sales/views.py` - ä¿®æ”¹delivery_shipè§†å›¾

---

#### ä»»åŠ¡ 2.2: é”€å”®å¯¹è´¦ä¸å¼€ç¥¨ â±ï¸ 4å¤©

**ç›®æ ‡**: å®ç°é”€å”®è®¢å•è‡ªåŠ¨å¯¹è´¦ã€å‘ç¥¨ç®¡ç†ã€åº”æ”¶è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ

**å­ä»»åŠ¡**:
1. ä½¿ç”¨é˜¶æ®µä¸€åˆ›å»ºçš„ç»Ÿä¸€Invoiceæ¨¡å‹
2. åˆ›å»ºé”€å”®å¯¹è´¦æ¸…å•åŠŸèƒ½
3. åº”æ”¶è´¦æ¬¾è‡ªåŠ¨ç”Ÿæˆ (å‘è´§å)
4. æ”¶æ¬¾æ ¸é”€é€»è¾‘

**æ–‡ä»¶å˜æ›´**:
- `apps/sales/views.py` - æ–°å¢å¯¹è´¦è§†å›¾
- `apps/finance/views.py` - æ”¶æ¬¾æ ¸é”€é€»è¾‘

---

### é˜¶æ®µä¸‰ï¼šå€Ÿç”¨æµç¨‹å®æ–½ (ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­)

#### ä»»åŠ¡ 3.1: é”€å”®å€Ÿç”¨æ¨¡å— â±ï¸ 5å¤©

**ç›®æ ‡**: å®ç°å®Œæ•´çš„é”€å”®å€Ÿç”¨æµç¨‹

**å­ä»»åŠ¡**:
1. åˆ›å»º `SalesLoan` å’Œ `SalesLoanItem` æ¨¡å‹
2. å®ç°å€Ÿç”¨å•CRUDè§†å›¾
3. å®ç°å®¡æ‰¹æµç¨‹
4. å®ç°å€Ÿè½¬é”€é€»è¾‘
5. å®ç°å½’è¿˜æµç¨‹

**æ–‡ä»¶å˜æ›´**:
- `apps/sales/models_loan.py` - æ–°å»º
- `apps/sales/views_loan.py` - æ–°å»º
- `apps/sales/urls.py` - æ·»åŠ è·¯ç”±
- æ•°æ®åº“è¿ç§»
- æ¨¡æ¿æ–‡ä»¶

---

#### ä»»åŠ¡ 3.2: é‡‡è´­å€Ÿç”¨æ¨¡å— â±ï¸ 5å¤©

**ç›®æ ‡**: å®ç°å®Œæ•´çš„é‡‡è´­å€Ÿç”¨æµç¨‹

**å­ä»»åŠ¡**:
1. åˆ›å»º `PurchaseLoan` å’Œ `PurchaseLoanItem` æ¨¡å‹
2. å®ç°å€Ÿç”¨å•CRUDè§†å›¾
3. å®ç°å®¡æ‰¹æµç¨‹
4. å®ç°å€Ÿè½¬é‡‡è´­é€»è¾‘
5. å®ç°å½’è¿˜æµç¨‹

**æ–‡ä»¶å˜æ›´**:
- `apps/purchase/models_loan.py` - æ–°å»º
- `apps/purchase/views_loan.py` - æ–°å»º
- `apps/purchase/urls.py` - æ·»åŠ è·¯ç”±
- æ•°æ®åº“è¿ç§»
- æ¨¡æ¿æ–‡ä»¶

---

### é˜¶æ®µå››ï¼šé€€æ¢è´§æµç¨‹ä¼˜åŒ– (ä¼˜å…ˆçº§: ğŸŸ¡ ä¸­)

#### ä»»åŠ¡ 4.1: é”€å”®é€€è´§è´¢åŠ¡ä¼˜åŒ– â±ï¸ 2å¤©

**ç›®æ ‡**: ä¼˜åŒ–é”€å”®é€€è´§çš„è´¢åŠ¡å¤„ç†é€»è¾‘

**å­ä»»åŠ¡**:
1. ä¿®æ”¹ `return_process` è§†å›¾
2. å®ç°åº”æ”¶è´¦æ¬¾å†²é”€è®°å½• (è´Ÿæ•°è´¦æ¬¾)
3. ä¼˜åŒ–æ ¸é”€é€»è¾‘
4. æ·»åŠ æ¢è´§è®°å½•å­—æ®µ

**æ–‡ä»¶å˜æ›´**:
- `apps/sales/views.py` - ä¿®æ”¹return_process
- `apps/sales/models.py` - æ·»åŠ æ¢è´§å­—æ®µ

---

#### ä»»åŠ¡ 4.2: é‡‡è´­é€€è´§è´¢åŠ¡å®ç° â±ï¸ 2å¤©

**ç›®æ ‡**: å®ç°é‡‡è´­é€€è´§çš„å®Œæ•´è´¢åŠ¡å¤„ç†

**å­ä»»åŠ¡**:
1. ä¿®æ”¹ `return_approve` è§†å›¾
2. å®ç°åº”ä»˜è´¦æ¬¾å†²é”€è®°å½•
3. å®ç°æ ¸é”€é€»è¾‘
4. æ·»åŠ æ¢è´§è®°å½•å­—æ®µ

**æ–‡ä»¶å˜æ›´**:
- `apps/purchase/views.py` - ä¿®æ”¹return_approve
- `apps/purchase/models.py` - æ·»åŠ æ¢è´§å­—æ®µ

---

### é˜¶æ®µäº”ï¼šè´¢åŠ¡åŠŸèƒ½å¢å¼º (ä¼˜å…ˆçº§: ğŸŸ¢ ä½)

#### ä»»åŠ¡ 5.1: è´¢åŠ¡æŠ¥è¡¨å¼€å‘ â±ï¸ 7å¤©

**ç›®æ ‡**: å®ç°æ ¸å¿ƒè´¢åŠ¡æŠ¥è¡¨

**å­ä»»åŠ¡**:
1. åº”æ”¶è´¦é¾„åˆ†ææŠ¥è¡¨
2. åº”ä»˜è´¦é¾„åˆ†ææŠ¥è¡¨
3. ç°é‡‘æµé‡æŠ¥è¡¨
4. æ”¶å…¥æˆæœ¬åˆ†ææŠ¥è¡¨

**æ–‡ä»¶å˜æ›´**:
- `apps/reports/` æ¨¡å—
- æ–°å»ºè§†å›¾å’Œæ¨¡æ¿

---

#### ä»»åŠ¡ 5.2: å‡­è¯è‡ªåŠ¨ç”Ÿæˆ â±ï¸ 5å¤©

**ç›®æ ‡**: ä¸šåŠ¡å•æ®è‡ªåŠ¨ç”Ÿæˆè®°è´¦å‡­è¯

**å­ä»»åŠ¡**:
1. é‡‡è´­å…¥åº“è‡ªåŠ¨ç”Ÿæˆå‡­è¯
2. é”€å”®å‡ºåº“è‡ªåŠ¨ç”Ÿæˆå‡­è¯
3. æ”¶ä»˜æ¬¾è‡ªåŠ¨ç”Ÿæˆå‡­è¯

**æ–‡ä»¶å˜æ›´**:
- `apps/finance/services.py` - å‡­è¯ç”ŸæˆæœåŠ¡

---

## ä¸ƒã€å®æ–½ä¼˜å…ˆçº§æ€»ç»“

### ğŸ”´ é«˜ä¼˜å…ˆçº§ (ç«‹å³å®æ–½)
1. **é‡‡è´­å¯¹è´¦ä¸å‘ç¥¨ç®¡ç†** (ä»»åŠ¡1.2) - æ ¸å¿ƒç¼ºå¤±
2. **é”€å”®å¯¹è´¦ä¸å¼€ç¥¨** (ä»»åŠ¡2.2) - æ ¸å¿ƒç¼ºå¤±
3. **ä¿¡ç”¨é¢åº¦æ ¡éªŒ** (ä»»åŠ¡2.1) - é£é™©æ§åˆ¶

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ (ç¬¬äºŒé˜¶æ®µ)
4. **é”€å”®å€Ÿç”¨æ¨¡å—** (ä»»åŠ¡3.1) - ä¸šåŠ¡éœ€æ±‚
5. **é‡‡è´­å€Ÿç”¨æ¨¡å—** (ä»»åŠ¡3.2) - ä¸šåŠ¡éœ€æ±‚
6. **é‡‡è´­ç”³è¯·è´¢åŠ¡é¢„ç®—å®¡æ ¸** (ä»»åŠ¡1.1) - æµç¨‹å®Œå–„
7. **é€€è´§è´¢åŠ¡ä¼˜åŒ–** (ä»»åŠ¡4.1, 4.2) - æµç¨‹è§„èŒƒ

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ (ä¼˜åŒ–é˜¶æ®µ)
8. **è´¨æ£€å•åŠŸèƒ½** (ä»»åŠ¡1.3) - æµç¨‹å¢å¼º
9. **è´¢åŠ¡æŠ¥è¡¨** (ä»»åŠ¡5.1) - å†³ç­–æ”¯æŒ
10. **å‡­è¯è‡ªåŠ¨ç”Ÿæˆ** (ä»»åŠ¡5.2) - è‡ªåŠ¨åŒ–å¢å¼º

---

## å…«ã€é¢„è®¡å·¥æ—¶ç»Ÿè®¡

| é˜¶æ®µ | ä»»åŠ¡æ•° | é¢„è®¡å·¥æ—¶ | å®Œæˆå‘¨æœŸ |
|-----|-------|---------|---------|
| é˜¶æ®µä¸€: é‡‡è´­æµç¨‹å®Œå–„ | 3 | 10å¤© | 2å‘¨ |
| é˜¶æ®µäºŒ: é”€å”®æµç¨‹å®Œå–„ | 2 | 6å¤© | 1.5å‘¨ |
| é˜¶æ®µä¸‰: å€Ÿç”¨æµç¨‹å®æ–½ | 2 | 10å¤© | 2å‘¨ |
| é˜¶æ®µå››: é€€æ¢è´§ä¼˜åŒ– | 2 | 4å¤© | 1å‘¨ |
| é˜¶æ®µäº”: è´¢åŠ¡å¢å¼º | 2 | 12å¤© | 2.5å‘¨ |
| **æ€»è®¡** | **11** | **42å¤©** | **çº¦2ä¸ªæœˆ** |

---

## ä¹ã€é£é™©ä¸å»ºè®®

### é£é™©ç‚¹
1. **è´¢åŠ¡æ¨¡å—å¤æ‚åº¦é«˜**: å¯¹è´¦ã€æ ¸é”€é€»è¾‘éœ€è¦ä»”ç»†è®¾è®¡
2. **å€Ÿç”¨æµç¨‹ä¸šåŠ¡è§„åˆ™ä¸æ˜ç¡®**: éœ€è¦ä¸ä¸šåŠ¡éƒ¨é—¨å……åˆ†æ²Ÿé€š
3. **æ•°æ®è¿ç§»é£é™©**: æ–°å¢æ¨¡å‹å¯èƒ½å½±å“ç°æœ‰æ•°æ®

### å»ºè®®
1. **ä¼˜å…ˆå®æ–½é«˜ä¼˜å…ˆçº§ä»»åŠ¡**: è§£å†³æ ¸å¿ƒä¸šåŠ¡ç¼ºå¤±
2. **åˆ†é˜¶æ®µä¸Šçº¿**: æ¯ä¸ªé˜¶æ®µç‹¬ç«‹æµ‹è¯•éªŒæ”¶
3. **åŠ å¼ºæµ‹è¯•**: è´¢åŠ¡ç›¸å…³åŠŸèƒ½éœ€è¦ä¸¥æ ¼æµ‹è¯•
4. **ä¸šåŠ¡åŸ¹è®­**: æ–°åŠŸèƒ½ä¸Šçº¿å‰åŸ¹è®­ç”¨æˆ·

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æ›´æ–°æ—¥æœŸ**: 2025-11-09
**å®¡æ ¸çŠ¶æ€**: å¾…ä¸»äººå®¡æ ¸ (Â´ï½¡â€¢ áµ• â€¢ï½¡`) â™¡
